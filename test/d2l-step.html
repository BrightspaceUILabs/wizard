<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>d2l-step tests</title>
	<script src="/node_modules/@babel/polyfill/browser.js"></script>
	<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
	<script src="/node_modules/wct-browser-legacy/browser.js"></script>
	<script type="module" src="../d2l-step.js"></script>
</head>
<body>
	<test-fixture id="basic">
		<template>
			<d2l-labs-step></d2l-labs-step>
		</template>
	</test-fixture>
	<script type="module">
		import '../d2l-step.js';
		describe('d2l-step', function() {

			var elem, htmlElem;

			beforeEach(function() {
				htmlElem = window.document.getElementsByTagName('html')[0];
				htmlElem.removeAttribute('lang');
			});

			describe('basic', function() {

				beforeEach(function() {
					elem = fixture('basic');
				});

				it('should instantiate the element', function() {
					expect(elem.localName).to.equal('d2l-labs-step');
				});

				it('should default "language" to "en"', function() {
					expect(elem.language).to.equal('en');
				});

			});

			describe('event', function() {

				beforeEach(function() {
					elem = fixture('basic');
				});

				it('should create stepper-next event', function(done) {
					elem.addEventListener('stepper-next', function(event) {
						assert.equal(event.type, 'stepper-next');
						done();
					});
					elem._nextClick();
				});

				it('should create stepper-restart event', function(done) {
					elem.addEventListener('stepper-restart', function(event) {
						assert.equal(event.type, 'stepper-restart');
						done();
					});
					elem._restartClick();
				});
			});

		});
	</script>
</body>
</html>
